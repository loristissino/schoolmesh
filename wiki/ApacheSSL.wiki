#summary Configurazione di Apache
#labels Phase-Deploy

= Configurazione di Apache =

1. Modificare il file _/etc/apache2/sites-available/default_ aggiungendo le seguenti righe, subito prima di `</VirtualHost>`:

{{{
    Alias "/schoolmesh/sf" "/usr/share/php/data/symfony/web/sf"
    Alias /schoolmesh "/var/schoolmesh/web/"

    DirectoryIndex index.php

    <Directory "/var/schoolmesh/web">
      AllowOverride All
      Allow from All
    </Directory>

    <Directory "/usr/share/php/data/symfony/web/sf">
       AllowOverride All
       Allow from All
    </Directory>
}}}

2. Modificare i file di configurazione di PHP (_/etc/php5/apache2/php.ini_ e _/etc/php5/cli/php.ini_) in modo che contengano la seguente impostazione:

{{{
short_open_tag = Off
memory_limit = 128M
}}}

3. Riavviare il server apache.

4. Configurare _sudo_ in modo che l'utente _www-data_ abbia la delega per interrogare il sistema sugli utenti e le loro directory:

Il file _/etc/sudoers_ (da modificare con `sudo visudo`, non direttamente!) dovrebbe contenere le seguenti voci:

{{{
# User alias specification
User_Alias WEBSERVER=www-data

# Cmnd alias specification
Cmnd_Alias INFOVIEW = /usr/bin/stat, /usr/bin/lsattr, /usr/bin/getfacl, /usr/bin/quota

WEBSERVER SCHOOL=NOPASSWD: INFOVIEW

}}}



Passo successivo: [MySQL Configurazione di MySql]


== SSL ==

(Da completare)

Abilitazione del modulo ssl di Apache:

{{{
$ sudo a2enmod ssl
Module ssl installed; run /etc/init.d/apache2 force-reload to enable.

$ sudo /etc/init.d/apache2 force-reload
 * Reloading web server config apache2                                   [ OK ] 

}}}